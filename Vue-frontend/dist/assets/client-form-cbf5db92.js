import{u as z}from"./client-205bbaaf.js";import{b as T,e as x,g as t,o as g,l as R,w as l,h as e,i as h,k as p,s as U,v as G,a as s,c as E,F as j,j as L,t as $,x as M,u as P,y as J,f as K,p as O,q as Q,_ as W}from"./index-4ba7bd9a.js";import{c as X}from"./country-b5facef9.js";const Y=s("label",null,"Venue Information",-1),Z=s("label",null,"Halls",-1),ee=s("label",null,"Gross Area(Sqm)",-1),le=s("thead",null,[s("tr",null,[s("th",{class:"text-left"},"Halls"),s("th",{class:"text-left"},"Gross Area(Sqm)")])],-1),ae=T({__name:"client-venue",props:{venues:null,mode:null},setup(i){const w=i;let d=x(!1);const C=x(),o=x({hall:"",area:0});async function F(){const{valid:r}=await C.value.validate();r&&(w.venues.push({...o.value}),o.value.hall="",o.value.area=0,d.value=!1)}return(r,c)=>{const a=t("v-col"),b=t("v-text-field"),y=t("v-row"),_=t("v-container"),n=t("v-form"),v=t("v-card-text"),f=t("v-btn"),k=t("v-spacer"),I=t("v-card-actions"),V=t("v-card"),N=t("v-dialog"),S=t("v-table");return g(),R(_,null,{default:l(()=>[e(y,null,{default:l(()=>[e(a,null,{default:l(()=>[Y]),_:1}),e(a,{cols:"2",xl:"1"},{default:l(()=>[i.mode!=="view"?(g(),R(f,{key:0,color:"#639843",style:{color:"white"},"max-width":"150"},{default:l(()=>[h("Add Halls "),e(N,{"min-width":"500",modelValue:p(d),"onUpdate:modelValue":c[3]||(c[3]=u=>U(d)?d.value=u:d=u),activator:"parent",width:"auto"},{default:l(()=>[e(V,null,{default:l(()=>[e(v,null,{default:l(()=>[e(n,{ref_key:"venueForm",ref:C,"validate-on":"blur"},{default:l(()=>[e(_,null,{default:l(()=>[e(y,null,{default:l(()=>[e(a,{cols:"5"},{default:l(()=>[Z]),_:1}),e(a,null,{default:l(()=>[e(b,{variant:"solo-filled",modelValue:o.value.hall,"onUpdate:modelValue":c[0]||(c[0]=u=>o.value.hall=u),type:"text",rules:[()=>i.venues===void 0||i.venues.find(u=>u.hall==o.value.hall)==null||"Hall already exist"]},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(y,null,{default:l(()=>[e(a,{cols:"5"},{default:l(()=>[ee]),_:1}),e(a,null,{default:l(()=>[e(b,{variant:"solo-filled",modelValue:o.value.area,"onUpdate:modelValue":c[1]||(c[1]=u=>o.value.area=u),type:"number",rules:[()=>o.value.area>0||"Gross area cannot be negative or equal to zero"]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),e(I,null,{default:l(()=>[e(f,{color:"#639843",onClick:F},{default:l(()=>[h("save")]),_:1}),e(k),e(f,{color:"#639843",onClick:c[2]||(c[2]=u=>U(d)?d.value=!1:d=!1)},{default:l(()=>[h("cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})):G("",!0)]),_:1})]),_:1}),e(S,{class:"ma-2","fixed-header":"",density:"compact","max-height":"160"},{default:l(()=>[le,s("tbody",null,[(g(!0),E(j,null,L(i.venues,u=>(g(),E("tr",{key:u.hall},[s("td",null,$(u.hall),1),s("td",null,$(u.area),1)]))),128))])]),_:1})]),_:1})}}}),A=i=>(O("data-v-1e56e7e7"),i=i(),Q(),i),te={class:"text-h6",style:{padding:"30px 0px 0px 30px"}},oe=A(()=>s("label",null,"Venue Name",-1)),ne=A(()=>s("label",null,"Region",-1)),ue=A(()=>s("label",null,"Email",-1)),se=A(()=>s("label",null,"Phone Number",-1)),de=T({__name:"client-form",props:{mode:null},emits:["createClient","updateClient"],setup(i,{emit:w}){const{lgAndUp:d}=M(),C=P(),o=J(),F=z();let r=x(!1);const c=x(),a=x({id:"",venue_name:"",region:void 0,email:"",phone:"",halls:[]});async function b(){if(o.name==="detail")C.push("/client/edit/"+o.params.id);else{const{valid:_}=await c.value.validate();_&&(r.value=!0)}}function y(){o.name==="create"&&w("createClient",a.value),o.name==="edit"&&w("updateClient",a.value)}return K(async()=>{if(o.params.id!==void 0){let _;Array.isArray(o.params.id)?_=o.params.id[0]:_=o.params.id;let n=await F.getClient(_);n===void 0||(a.value=n)}}),(_,n)=>{const v=t("v-col"),f=t("v-text-field"),k=t("v-spacer"),I=t("v-card-text"),V=t("v-btn"),N=t("v-card-actions"),S=t("v-card"),u=t("v-dialog"),q=t("v-row"),B=t("v-autocomplete"),D=t("v-container"),H=t("v-form");return g(),E("div",null,[s("div",te,$(_.$route.name==="create"?"Add New Client":"Client Detail"),1),e(S,{class:"h-auto",style:{padding:"20px",margin:"30px"}},{default:l(()=>[e(H,{ref_key:"clientForm",ref:c,"validate-on":"blur",readonly:i.mode==="view"},{default:l(()=>[e(D,null,{default:l(()=>[e(q,null,{default:l(()=>[e(v,{cols:"2"},{default:l(()=>[oe]),_:1}),e(v,{cols:"4",lg:"3"},{default:l(()=>[e(f,{density:p(d)?"default":"compact",style:{"margin-top":"10px"},variant:"solo-filled",modelValue:a.value.venue_name,"onUpdate:modelValue":n[0]||(n[0]=m=>a.value.venue_name=m),placeholder:"Name",rules:[()=>!!a.value.venue_name||"This field is required"],required:""},null,8,["density","modelValue","rules"])]),_:1}),e(k),e(v,{cols:"2",xl:"1"},{default:l(()=>[e(V,{onClick:b,rounded:"lg",color:"red","max-width":"150"},{default:l(()=>[h($(_.$route.name==="detail"?"Edit Client":"Save Client")+" ",1),e(u,{modelValue:p(r),"onUpdate:modelValue":n[2]||(n[2]=m=>U(r)?r.value=m:r=m),width:"auto"},{default:l(()=>[e(S,null,{default:l(()=>[e(I,null,{default:l(()=>[h(" Are you sure you want to create a new Client? ")]),_:1}),e(N,null,{default:l(()=>[e(V,{onClick:y},{default:l(()=>[h("Save")]),_:1}),e(k),e(V,{color:"red",onClick:n[1]||(n[1]=m=>U(r)?r.value=!1:r=!1)},{default:l(()=>[h("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(v,{cols:"2"},{default:l(()=>[ne]),_:1}),e(v,{cols:"4",lg:"3"},{default:l(()=>[e(B,{density:p(d)?"default":"compact",variant:"solo-filled",modelValue:a.value.region,"onUpdate:modelValue":n[3]||(n[3]=m=>a.value.region=m),rules:[()=>!!a.value.region||"This field is required"],items:p(X),placeholder:"Select Region",required:""},null,8,["density","modelValue","rules","items"])]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(v,{cols:"2"},{default:l(()=>[ue]),_:1}),e(v,{cols:"4",lg:"3"},{default:l(()=>[e(f,{density:p(d)?"default":"compact",variant:"solo-filled",modelValue:a.value.email,"onUpdate:modelValue":n[4]||(n[4]=m=>a.value.email=m),rules:[()=>!!a.value.email||"This field is required",()=>!!a.value.email&&a.value.email.match(/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/)!=null||"Incorrect email format. Ex: user1@gmail.com"],placeholder:"Ex: user1@gmail.com",required:""},null,8,["density","modelValue","rules"])]),_:1})]),_:1}),e(q,null,{default:l(()=>[e(v,{cols:"2"},{default:l(()=>[se]),_:1}),e(v,{cols:"4",lg:"3"},{default:l(()=>[e(f,{density:p(d)?"default":"compact",variant:"solo-filled",modelValue:a.value.phone,"onUpdate:modelValue":n[5]||(n[5]=m=>a.value.phone=m),placeholder:"Ex: 0392389889",rules:[()=>!!a.value.phone||"This field is required",()=>!!a.value.phone&&a.value.phone.match(/^[0-9]+$/)!=null||"Incorrect phone number format. Ex: 0392389889"]},null,8,["density","modelValue","rules"])]),_:1})]),_:1}),e(ae,{venues:a.value.halls,mode:i.mode},null,8,["venues","mode"])]),_:1})]),_:1},8,["readonly"])]),_:1})])}}});const _e=W(de,[["__scopeId","data-v-1e56e7e7"]]);export{_e as C};
