import{r as s,d as l}from"./index-4ba7bd9a.js";function a(t){return s.get({url:"/client/get/ID="+t})}function c(){return s.get({url:"/client/list"})}function u(){return s.get({url:"/client/list/name"})}function o(t){return s.get({url:"/client/list/hall/ID="+t})}function d(t){return s.post({url:"/client/add",data:t})}function f(t){return s.patch({url:"/client/update",data:t})}function h(t){return s.delete({url:"/client/delete/ID="+t})}const y=l("client",{state:()=>({clients:[]}),actions:{async getClient(t){var e;try{return(await a(t)).client}catch(n){return((e=n.response)==null?void 0:e.status)===400&&alert("Cannot not find requested client"),this.$state.clients.find(r=>r.id===t)}},async getClientList(){var t;try{const e=await c();return this.$state.clients=e.clients,e.clients}catch(e){return((t=e.response)==null?void 0:t.status)===400&&alert("Fail to load client list"),this.$state.clients}},async getClientNameList(){var t;try{return(await u()).clients}catch(e){return((t=e.response)==null?void 0:t.status)===400&&alert("Fail to load client name list"),Array.from(this.$state.clients,n=>n.venue_name)}},async getHallList(t){var e;try{return(await o(t)).halls}catch(n){((e=n.response)==null?void 0:e.status)===400&&alert("Fail to load client list");const r=this.$state.clients.find(i=>i.id===t);return r!==void 0?Array.from(r==null?void 0:r.halls,i=>i.hall):[]}},async addClient(t){var e;try{const n=await d(t)}catch(n){((e=n.response)==null?void 0:e.status)===400&&alert("Fail to create new client")}},async editClient(t,e){var n;try{const r=await f(e)}catch(r){((n=r.response)==null?void 0:n.status)===400&&alert("Fail to modify client info")}},async deleteClient(t){var e;try{const n=await h(t)}catch(n){((e=n.response)==null?void 0:e.status)===400&&alert("Fail to delete client")}}}}),m=y;export{m as u};
