import{r as p,d as H,b as z,u as W,e as J,f as M,g as i,o as f,c as v,a as s,h as n,w as o,i as m,F as y,j as N,t as u,n as I,k as w,m as T,l as P,p as U,q as K,_ as Q}from"./index-4ba7bd9a.js";import{C as x}from"./country-b5facef9.js";var d=(t=>(t.NEW="New Job",t.ONGOING="On Going",t.CANCEL="Cancel",t.FINISH="Finished",t))(d||{});function X(t){return p.get({url:"/job/get/ID="+t})}function Y(){return p.get({url:"/job/list"})}function Z(t){return p.post({url:"/job/add",data:t})}function tt(t){return p.patch({url:"/job/add",data:t})}function et(t){return p.delete({url:"/job/delete/ID="+t})}const st=[{id:"1",venueName:"Hamburg",region:x.AD,start_date:new Date("05/08/2023"),end_date:new Date("07/08/2023"),status:d.NEW,markingJob:[]},{id:"2",venueName:"Hamburg",region:x.AD,start_date:new Date("01/12/2023"),end_date:new Date("01/19/2023"),status:d.FINISH,markingJob:[]},{id:"3",venueName:"California",region:x.BR,start_date:new Date("04/08/2023"),end_date:new Date("08/08/2023"),status:d.ONGOING,markingJob:[]}],at=H("job",{state:()=>({jobs:st}),actions:{async getJob(t){var e;try{return(await X(t)).job}catch(a){return((e=a.response)==null?void 0:e.status)===400&&alert("Cannot not find requested client"),this.$state.jobs.find(c=>c.id===t)}},async getJobList(){var t;try{const e=await Y();return this.$state.jobs=e.jobs,e.jobs}catch(e){return((t=e.response)==null?void 0:t.status)===400&&alert("Fail to load job list"),this.$state.jobs}},async addJob(t){var e;try{const a=await Z(t);this.$state.jobs.push(t)}catch(a){((e=a.response)==null?void 0:e.status)===400&&alert("Fail to create new job")}},async editJob(t){var e;try{const a=await tt(t),c=this.$state.jobs.findIndex(_=>_.id===t.id);this.$state.jobs.splice(c,1,t)}catch(a){((e=a.response)==null?void 0:e.status)===400&&alert("Fail to modify job info")}},async deleteJob(t){var e;try{const a=await et(t),c=this.$state.jobs.findIndex(_=>_.id===t);this.$state.jobs.splice(c,1)}catch(a){((e=a.response)==null?void 0:e.status)===400&&alert("Fail to delete job")}}}}),nt=at,ot=t=>(U("data-v-4519e9ca"),t=t(),K(),t),lt={class:"client"},it={class:"heading"},rt=ot(()=>s("thead",null,[s("tr",null,[s("th",{class:"text-left"},"Job ID"),s("th",{class:"text-left"},"Venue"),s("th",{class:"text-left"},"Region"),s("th",{class:"text-left"},"Start Date"),s("th",{class:"text-left"},"End Date"),s("th",{class:"text-left"},"Status"),s("th",{class:"text-left"},"Operate")])],-1)),ct=z({__name:"job",setup(t){const e=W(),a=nt(),c=J([{title:"View Details"},{title:"Edit Job"},{title:"Delete"}]),_=J([]);function k(){e.push("/job/create")}function S(r){e.push("/job/edit/"+r)}function C(r){e.push("/job/view/"+r)}function E(r){a.deleteJob(r)}function F(r,h){switch(r){case"View Details":C(h);break;case"Edit Job":S(h);break;case"Delete":E(h);break}}return M(async()=>{let r=await a.getJobList();_.value=r}),(r,h)=>{const g=i("v-icon"),D=i("v-btn"),j=i("v-col"),G=i("v-row"),$=i("v-chip"),q=i("v-list-item-title"),O=i("v-list-item"),R=i("v-list"),V=i("v-menu"),A=i("v-table"),L=i("v-pagination");return f(),v(y,null,[s("div",lt,[s("div",it,[n(G,null,{default:o(()=>[m(" Job List "),n(j,{class:"text-right"},{default:o(()=>[n(D,{rounded:"lg",color:"#639843",size:"small",class:"fixed-buttons"},{default:o(()=>[m("Import Data "),n(g,{icon:"mdi-file-import",style:{"margin-left":"7px"}})]),_:1}),n(D,{rounded:"lg",color:"#639843",size:"small",class:"fixed-buttons",style:{"margin-right":"35px","margin-bottom":"1em"},onClick:k},{default:o(()=>[m(" Add new Job "),n(g,{icon:"mdi-plus",style:{"margin-left":"7px"}})]),_:1})]),_:1})]),_:1})])]),n(A,{class:"fixed-data-table"},{default:o(()=>[rt,s("tbody",null,[(f(!0),v(y,null,N(_.value,l=>(f(),v("tr",{key:l.venue_name},[s("td",null,u(l.id),1),s("td",null,u(l.venue_name),1),s("td",null,u(l.region),1),s("td",null,u(l.start_date.toDateString()),1),s("td",null,u(l.end_date.toDateString()),1),s("td",null,[n($,{class:"ma-2",label:"",style:I({color:l.status===w(d).NEW?"red":l.status===w(d).ONGOING?"blue":l.status===w(d).FINISH?"green":"secondary"})},{default:o(()=>[m(u(l.status),1)]),_:2},1032,["style"])]),s("td",null,[n(V,null,{activator:o(({props:b})=>[n(g,T({icon:"mdi-dots-horizontal",style:{"margin-left":"1em"}},b),null,16)]),default:o(()=>[n(R,{style:{"font-family":"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif"}},{default:o(()=>[(f(!0),v(y,null,N(c.value,(b,B)=>(f(),P(O,{key:B,style:I({color:b.title==="Delete"?"#E86961":"#000000"}),onClick:ut=>F(b.title,l.id)},{default:o(()=>[n(q,null,{default:o(()=>[m(u(b.title),1)]),_:2},1024)]),_:2},1032,["style","onClick"]))),128))]),_:2},1024)]),_:2},1024)])]))),128))])]),_:1}),n(j,{class:"text-right"},{default:o(()=>[n(L,{length:1})]),_:1})],64)}}});const bt=Q(ct,[["__scopeId","data-v-4519e9ca"]]);export{bt as default};
